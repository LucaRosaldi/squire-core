///-----------------------------------------------------------------------------
///  COMPONENT: INPUT SUBMIT
///-----------------------------------------------------------------------------
///
///  A input that displays feedback about the state of the request after the
///  form it belongs to has been submitted.
///

///
/// @var    {Map}  Element settings.
/// @access public
///
$c-input-submit: () !default;

///
/// @var    {Map}
/// @access private
///
$_config: map-extend( (
), $c-input-submit );


@if ( ui-load( "components", "input-submit" ) == true ) {
/*-----------------------------------------------------------------------------*
 *  COMPONENT: INPUT SUBMIT
 *-----------------------------------------------------------------------------*
 *
 *  A input that displays feedback about the state of the request after the
 *  form it belongs to has been submitted.
 *
 */

///
/// @block        Input Submit
/// @description  Default input submit block.
///
%c-input-submit {
  position: relative;

  display: inline-flex;
  align-items: center;
  justify-content: center;

  padding: 0;
  overflow: hidden;
  animation-play-state: paused;
}

  ///
  /// @element      Input Submit State
  /// @description  Feedback container for different states of the request.
  ///
  /// [1] icon indicating state
  /// [2] stack each state on top of the next
  ///
  %c-input-submit__state {
    @extend %transition !optional;
    transition-property: opacity;

    display: flex;
    align-items: center;
    justify-content: center;

    width: 100%;
    background: transparent;

    &[data-submit-loading],
    &[data-submit-success],
    &[data-submit-error] {
      position: absolute;
      left: 0; top: 100%;
      width: 100%; height: 100%;
      padding: 0;

      pointer-events: none;
      cursor: default;

      /// [1] ///
      &::before {
        width: 1.5em;
        height: 1.5em;
        margin: 0.25em;
      }
    }

    &[data-submit-loading] {
      top: 100%;
      opacity: 0.75;
      &::before {
        content: url( "data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 18 18' width='100%' height='100%'><path d='M9 13.5c-2.49 0-4.5-2.01-4.5-4.5S6.51 4.5 9 4.5c1.24 0 2.36.52 3.17 1.33L10 8h5V3l-1.76 1.76A6.003 6.003 0 0 0 9 3C5.69 3 3.01 5.69 3.01 9S5.69 15 9 15a5.98 5.98 0 0 0 5.9-5h-1.52c-.46 2-2.24 3.5-4.38 3.5z'/></svg>" );
        animation: spin 1000ms linear infinite;
      }
      &::after {
        content: attr( data-submit-loading );
      }
    }

    &[data-submit-success] {
      top: 200%;
      opacity: 0;
      &::before {
        content: url( "data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 36 36' width='100%' height='100%'><path d='M13.5 24.26L7.24 18l-2.12 2.12 8.38 8.38 18-18-2.12-2.12z'/></svg>" );
      }
      &::after {
        content: attr( data-submit-success );
      }
    }

    &[data-submit-error] {
      top: 200%;
      opacity: 0;
      &::before {
      content: url( "data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 18 18' width='100%' height='100%'><path d='M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z'/></svg>" );
      }
      &::after {
        content: attr( data-submit-error );
      }
    }

  }

///
/// @modifier     Submit Input Loading
/// @description  Input which displays the spinning load indicator.
///
%c-input-submit--loading {
  %c-input-submit__state {
    transition-property: transform;
    transform: translateY( -100% );
  }
}

///
/// @modifier     Submit Input Complete
/// @description  Input which displays feedback for a completed request.
///
%c-input-submit--complete {
  %c-input-submit__state {
    transition-property: transform;
    transform: translateY( -200% );
  }
}

///
/// @modifier     Submit Input Complete
/// @description  Input which displays feedback for a completed request.
///
%c-input-submit--success {
  @extend %c-input-submit--complete;
  %c-input-submit__state[data-submit-success] {
    opacity: 1;
  }
}

///
/// @modifier     Submit Input Complete
/// @description  Input which displays feedback for a completed request.
///
%c-input-submit--error {
  @extend %c-input-submit--complete;
  %c-input-submit__state[data-submit-error] {
    opacity: 1;
  }
}

} // enabled
